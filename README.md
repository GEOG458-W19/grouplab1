# Group Lab 1
## Changes in the Geography of Chinese Production

This is the first Group Lab, and the first lab in which you will be given more creative leverage in what you ultimately produce. There will be less and less handholding from here on out in exactly how you accomplish objectives. These assignments (for R at least) will no longer function as step-by-step tutorials with “tasks”—we just needed to do that in Getting Started… to make sure everyone was on the same page. Instead, I’ll usually ask for a few main objectives to be accomplished, and the lab will be divided into Parts which assign these objectives and explain the constraints (if any) on how you accomplish them or how many visualizations, for instance, you need to produce. That said, this assignment is designed with a little bit more guidance than future ones (though less than last week’s), in order to lead you through all the types of things you’ll usually want to do with a new dataset.

For group assignments, it will be very important that you both divide your labor and make sure that the more advanced students are explaining what they are doing to the less advanced students. I realize that you often will not be sitting next to one another! Remember, you can edit a collaborative .rmd file via your Github organization – I very much encourage you to do this! But when you do so, be sure to not only annotate your final .html product for the viewer, but also annotate your code. This is helpful for: 1) you, in the future! 2) your teammates, who are wondering what your insane-looking nested function does, regardless of  the fact that it works 3) other people out in the world who might find your code useful, remember, all of this is public on Github!   

If you don’t know much about annotating code or the normal way this is done, please read this (Links to an external site.)Links to an external site.. Annotating in python will take essentially the same form.

For this Group Lab, we will be working with the same data we ended with in the Getting Started… assignment. If you lost it or something, it’s the file called “China_EO_49to17.csv” in the Files page on Canvas, here. You’ll have to refer back to the previous assignment for how to add it in to R (probably as a Tibble, but that’s actually up to you here, you can use Base R if you’d like, or alternate packages).

### Part 1 – Understanding our Data
For this lab you are going to write an R Markdown file, in HTML, that introduces this dataset to a viewer and explores it through visualization, modification and a (very little) bit of basic statistics. You’ll also find some other data with which to normalize and compare the data you have here. But the first step of all of this is to understand the data that you have—this is often taken for granted, but it’s the most important part!

In the previous assignment, I explained that this is Chinese economic data sorted by province. The Output is in units of 100 million RMB, the enterprises are absolute number. This data is derived from (Links to an external site.)Links to an external site. the All China Data Center (Links to an external site.)Links to an external site., which our library has a subscription to. Formerly affiliated with the University of Michigan, the All China Data Center is run by the All China Marketing Research company—so this is a private research firm. They aggregate data from multiple sources, so it’s a bit more reliable than the Chinese National Bureau of Statistics data that is often used, but much of the material is essentially based on NBS data.

That said, you’ll need to understand some greater context, and explain it to your viewers:

**First**, go find out why some cities like Beijing and Shanghai are included in this list of provinces. If you’ve taken Chinese Geography with Kam Wing Chan, you probably know! In your HTML document, this should be one of the things you explain to the viewer. There are also a few locations that some viewers might argue are “missing” if we are portraying “China,” what are they? Explain to the viewer why they’re not included in most statistics for the People’s Republic of China and where they would need to go to find statistics for these locations.

**Second**, there are a number of general problems with Chinese statistics. Search for articles that explain some of these problems, read through these articles and write out a summary for the viewer, linking the articles you reference (you can also use blockquotes in markdown). Explain the time periods that might be the least reliable, and maybe summarize some of the suggested methods for “correcting” things like GDP data. (hint: simple google searches for things like “estimating chinese GDP” or “problems with chinese economic statistics” should bring up a wealth of results—try to emphasize academic sources, not news reports)

### Part 2 – Exploring and Visualizing the Data
Now you’ll want to begin exploring the data, narrating that process to the viewer. In this R Markdown document, you’ll want to produce something that looks clean, which means that you want to hide your R code in most places, only “printing” the output of certain tables, plots and other visualizations. (Note: I’ll obviously be looking at your code in the .rmd document itself, and you’ll be graded on it being complete, correct and properly annotated)

But exactly how you do this is up to you! Use the material from Grolemund and Wickham 2017 (available here (Links to an external site.)Links to an external site.), Chapters 7 and 11 to explore and visualize, and the tools from Chapter 5 to sort and modify the data as needed. If you want to use Base R here instead of the tidyverse, you can, especially for your data management, but I still suggest you use tools like ggplot for your visualizations as they look much nicer. There are only a few constraints here:

**First**, make sure your data exploration makes sense. Don’t just do random things, I want you to narrate the process for the viewer and explain what it all means. Point out some interesting things in the data—do you see certain trends over time, for example? What might cause some of the large, abrupt changes in the data (if you need to, cite some sources about these events)?

**Second**, I want you to produce at least five different visualizations. These should be reasonably varied, but exactly what is up to you. Remember some of the exploration tools from Chapter 7—some may be boring, but actually useful, like looking at NA values (lots of our output data is missing!).

### Part 3 – Modifying the Data
Now you’re going to continue exploring the data, but with modifications. Remember the output ratio we produced to compare provinces in Getting Started with R? Creating new variables that compare two other measurements like this can be very useful. So let’s make some informative changes:

**First**, I’d like you to produce output ratios comparing some provinces, as you did in the previous assignment. But this time, write a function to automate it (some of you have already). You likely have a number of NA values, so decide how you are going to deal with these and explain your decision! Plot out a few of the interesting comparisons. (hint: try comparing provinces in China’s northeast, such as Liaoning, to southern coastal provinces like Guangdong, you’ll notice substantial changes in the output ratio between the two!)

**Second**, You’ll often want to translate figures like these into shares of the total. Create a column that gives us a national total. Then you can create new columns for provinces to explore the share of the national total (of enterprises or output) held by that province, and how this changes over time. Try to do this for all provinces if you can, it’s feasible to do this with the tools you’ve already learned, but this may be easier if you know how to write loops (Links to an external site.)Links to an external site.. So if you’d like you can just produce a few representative examples. Plot them and explain.

**Third**, explore the relationship between output and number of enterprises—you choose the provinces, but ideally ones with more data to work with. You’ll likely want to make another ratio here, something like output-per-enterprise. Again: plot it out for the viewer, and summarize your findings.

**Fourth**, go out and find some other data that might be useful here. Our numbers aren’t currently normalized by anything—what sort of variables do we use for normalization? Go get province-level data that might be helpful for comparison. You may run into trouble finding adequate data that covers all these same years. I suggest you use the library resource pages for China data and Chinese studies, particularly useful might be the same resource I drew from for the original data, listed as “China Data Online (Links to an external site.)Links to an external site.” on the first page linked above, or the “China Geo-Explorer II (Links to an external site.)Links to an external site.” on the second page linked above—but note that these must be accessed through UW to work, since they are subscription based. You can also use data from the National Bureau of Statistics or the National Population Census that you find online. Explain to the viewer what data you are adding, and why, and produce a basic visualization of it. Use this new data to modify the existing data, normalizing or comparing it, and visualize this for the viewer as well. NOTE: you may have to cut down the years to a smaller subset. That’s fine! But try to retain at least the most recent 10-15 years!

**Fifth**, we want to explore whether some of our data might be affected by “hidden” variables, or whether enterprise numbers in one province might relate to enterprise numbers in another. To do this we want to plot different variables against each other year-by-year. For instance, does a decrease in one province correlate to an increase in another? Or, if you added population data above: does the number of enterprises correlate to population (this is a sign that you need to normalize your data, since it is likely being affected by a hidden variable). Visualize a few of these relationships using a plot function (again, ggplot is fine). If you know how, use a few statistical tests to see if they correlate, or if they have a linear relationship, etc. If you don’t know what this means, try to look it up and find a simple test to run! Summarize for the viewer and provide any helpful plots that result from your test.

**Sixth**, let’s finish by remembering that, though this is not really spatial data right now, it is, actually, organized by spatial units. That means we can do the equivalent of geographic union operations, but without the actual geocomputation (yet!)—there are few enough units here that we can manually code this without actual spatial data being necessary. So go find the official designation of the Regions of China (you’ll find a more general and detailed system, as well as larger Economic Regions—I’d like you to use the more detailed one), and note that you’ll have to make a few decisions as some provinces are counted twice, while others may be missing from our data. Now, I want you to aggregate the data by region. The region should become the sum of the individual province data. Do this for Enterprises, Output and whatever data you added yourself.

### Completion
Once your document is complete, make sure both your .rmd and .html are uploaded (and public) on Github. Then: ONE group member should be designated to submit the HTML to Canvas, and submit a link to the github via a comment. ALL group members need to submit a LINK to Github.

*IMPORTANT*: If you submitted the HTML you can submit the link as a comment, but everyone else should submit the link as your submission so that Canvas logs it as complete.
